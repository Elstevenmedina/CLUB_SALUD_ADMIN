<!DOCTYPE html>
<html lang="es-VE">

    <head>
        <meta charset="utf-8" />
        <title>Iniciar sesión | Club Salud</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta content="Incio de sesión en Club Salud" name="description" />
        <meta content="Club Salud" name="Rod Panda Studio" />
        <!-- App favicon -->
        <link rel="shortcut icon" href="/images/icons/icon.png">

        <!-- App css -->
        <link href="assets/css/icons.min.css" rel="stylesheet" type="text/css" />
        <link href="assets/css/app-modern.min.css" rel="stylesheet" type="text/css" id="app-style" />

        <!-- Manifest -->
        <link rel="manifest" href="/manifest.json">
        <!-- Android -->
        <meta name="theme-color" content="#ffffff">
        <!-- IOS -->
        <meta name="apple-mobile-web-app-capable" content="yes">

        <!--Splash Screen iphone-->
        <link rel="apple-touch-startup-image" media="screen and (device-width: 430px) and (device-height: 932px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)" href="/images/pwa/splash_screens/iPhone_14_Pro_Max_landscape.png">
        <link rel="apple-touch-startup-image" media="screen and (device-width: 393px) and (device-height: 852px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)" href="/images/pwa/splash_screens/iPhone_14_Pro_landscape.png">
        <link rel="apple-touch-startup-image" media="screen and (device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)" href="/images/pwa/splash_screens/iPhone_14_Plus__iPhone_13_Pro_Max__iPhone_12_Pro_Max_landscape.png">
        <link rel="apple-touch-startup-image" media="screen and (device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)" href="/images/pwa/splash_screens/iPhone_14__iPhone_13_Pro__iPhone_13__iPhone_12_Pro__iPhone_12_landscape.png">
        <link rel="apple-touch-startup-image" media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)" href="/images/pwa/splash_screens/iPhone_13_mini__iPhone_12_mini__iPhone_11_Pro__iPhone_XS__iPhone_X_landscape.png">
        <link rel="apple-touch-startup-image" media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)" href="/images/pwa/splash_screens/iPhone_11_Pro_Max__iPhone_XS_Max_landscape.png">
        <link rel="apple-touch-startup-image" media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="/images/pwa/splash_screens/iPhone_11__iPhone_XR_landscape.png">
        <link rel="apple-touch-startup-image" media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)" href="/images/pwa/splash_screens/iPhone_8_Plus__iPhone_7_Plus__iPhone_6s_Plus__iPhone_6_Plus_landscape.png">
        <link rel="apple-touch-startup-image" media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="/images/pwa/splash_screens/iPhone_8__iPhone_7__iPhone_6s__iPhone_6__4.7__iPhone_SE_landscape.png">
        <link rel="apple-touch-startup-image" media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="/images/pwa/splash_screens/4__iPhone_SE__iPod_touch_5th_generation_and_later_landscape.png">
        <link rel="apple-touch-startup-image" media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="/images/pwa/splash_screens/12.9__iPad_Pro_landscape.png">
        <link rel="apple-touch-startup-image" media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="/images/pwa/splash_screens/11__iPad_Pro__10.5__iPad_Pro_landscape.png">
        <link rel="apple-touch-startup-image" media="screen and (device-width: 820px) and (device-height: 1180px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="/images/pwa/splash_screens/10.9__iPad_Air_landscape.png">
        <link rel="apple-touch-startup-image" media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="/images/pwa/splash_screens/10.5__iPad_Air_landscape.png">
        <link rel="apple-touch-startup-image" media="screen and (device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="/images/pwa/splash_screens/10.2__iPad_landscape.png">
        <link rel="apple-touch-startup-image" media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="/images/pwa/splash_screens/9.7__iPad_Pro__7.9__iPad_mini__9.7__iPad_Air__9.7__iPad_landscape.png">
        <link rel="apple-touch-startup-image" media="screen and (device-width: 744px) and (device-height: 1133px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="/images/pwa/splash_screens/8.3__iPad_Mini_landscape.png">
        <link rel="apple-touch-startup-image" media="screen and (device-width: 430px) and (device-height: 932px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)" href="/images/pwa/splash_screens/iPhone_14_Pro_Max_portrait.png">
        <link rel="apple-touch-startup-image" media="screen and (device-width: 393px) and (device-height: 852px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)" href="/images/pwa/splash_screens/iPhone_14_Pro_portrait.png">
        <link rel="apple-touch-startup-image" media="screen and (device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)" href="/images/pwa/splash_screens/iPhone_14_Plus__iPhone_13_Pro_Max__iPhone_12_Pro_Max_portrait.png">
        <link rel="apple-touch-startup-image" media="screen and (device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)" href="/images/pwa/splash_screens/iPhone_14__iPhone_13_Pro__iPhone_13__iPhone_12_Pro__iPhone_12_portrait.png">
        <link rel="apple-touch-startup-image" media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)" href="/images/pwa/splash_screens/iPhone_13_mini__iPhone_12_mini__iPhone_11_Pro__iPhone_XS__iPhone_X_portrait.png">
        <link rel="apple-touch-startup-image" media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)" href="/images/pwa/splash_screens/iPhone_11_Pro_Max__iPhone_XS_Max_portrait.png">
        <link rel="apple-touch-startup-image" media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="/images/pwa/splash_screens/iPhone_11__iPhone_XR_portrait.png">
        <link rel="apple-touch-startup-image" media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)" href="/images/pwa/splash_screens/iPhone_8_Plus__iPhone_7_Plus__iPhone_6s_Plus__iPhone_6_Plus_portrait.png">
        <link rel="apple-touch-startup-image" media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="/images/pwa/splash_screens/iPhone_8__iPhone_7__iPhone_6s__iPhone_6__4.7__iPhone_SE_portrait.png">
        <link rel="apple-touch-startup-image" media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="/images/pwa/splash_screens/4__iPhone_SE__iPod_touch_5th_generation_and_later_portrait.png">
        <link rel="apple-touch-startup-image" media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="/images/pwa/splash_screens/12.9__iPad_Pro_portrait.png">
        <link rel="apple-touch-startup-image" media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="/images/pwa/splash_screens/11__iPad_Pro__10.5__iPad_Pro_portrait.png">
        <link rel="apple-touch-startup-image" media="screen and (device-width: 820px) and (device-height: 1180px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="/images/pwa/splash_screens/10.9__iPad_Air_portrait.png">
        <link rel="apple-touch-startup-image" media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="/images/pwa/splash_screens/10.5__iPad_Air_portrait.png">
        <link rel="apple-touch-startup-image" media="screen and (device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="/images/pwa/splash_screens/10.2__iPad_portrait.png">
        <link rel="apple-touch-startup-image" media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="/images/pwa/splash_screens/9.7__iPad_Pro__7.9__iPad_mini__9.7__iPad_Air__9.7__iPad_portrait.png">
        <link rel="apple-touch-startup-image" media="screen and (device-width: 744px) and (device-height: 1133px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="/images/pwa/splash_screens/8.3__iPad_Mini_portrait.png">

        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">


    </head>

    <body class="authentication-bg pb-0" data-layout-config='{"darkMode":false}'>

        <div class="auth-fluid">
            <!--Auth fluid left content -->
            <div class="auth-fluid-form-box">
                <div class="align-items-center d-flex h-100">
                    <div class="card-body">

                        <!-- Logo -->
                        <div class="auth-brand text-center text-lg-start">
                            <a href="index.html" class="logo-dark">
                                 <img src="/images/business/logo.png" alt="" height="65">
                            </a>
                            <a href="index.html" class="logo-light">
                                <img src="/images/business/logo.png" alt="" height="65">
                            </a>
                        </div>

                        <!-- title-->
                        <h4 class="mt-0">Iniciar sesión</h4>
                        <p class="text-muted mb-4">Ingresa tu dirección de correo electrónico y tu contraseña para acceder.</p>
                        <div class="row">
                            <div class="col-sm-12">
                                {{>errors}}
                            </div>
                        </div>
                        <!-- form -->
                        <form action="/iniciar-sesion" method="post" id="form">
                            <div class="mb-3">
                                <label for="emailaddress" class="form-label">Correo electrónico</label>
                                <input class="form-control" name="email" type="email" id="emailaddress" required=""  placeholder="Introduce tu correo electrónico">
                            </div>
                            <div class="mb-3">
                                <a href="javascript:void(0)" id="recuperarContrasena" class="text-muted float-end"><small>¿Olvidaste tu contraseña?</small></a>
                                <label for="password" class="form-label">Contraseña</label>
                                <input class="form-control" name="password" type="password" required="" id="password" placeholder="Introduce tu contraseña">
                            </div>
                            <div class="d-grid mb-0 text-center">
                                <button class="btn btn-primary" type="submit"><i class="mdi mdi-login"></i> Iniciar </button>
                            </div>
                            <!-- social-->
                        </form>
                        <!-- end form-->

                    </div> <!-- end .card-body -->
                </div> <!-- end .align-items-center.d-flex.h-100-->
            </div>
            <!-- end auth-fluid-form-box-->

            <!-- Auth fluid right content -->
            <div class="auth-fluid-right text-center">
                <div class="auth-user-testimonial">
                    <h2 class="mb-3">Club Salud</h2>
                    <p class="lead"><i class="mdi mdi-format-quote-open"></i> ¡DONDE TODOS SUMAMOS!  <i class="mdi mdi-format-quote-close"></i>
                    </p>
                </div> <!-- end auth-user-testimonial-->
            </div>
            <!-- end Auth fluid right content -->
        </div>
        <!-- end auth-fluid-->

        

        <script src="/sw.js"></script>
        <!-- bundle -->
        <script src="assets/js/vendor.min.js"></script>
        <script src="assets/js/app.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
        <script>
            const $recuperarContrasena = document.getElementById('recuperarContrasena');

            const modalContrasena = () =>{
                Swal.fire({
                    title: 'Recuperar contraseña',
                    text: 'Ingresa tu correo electrónico para recuperar tu contraseña',
                    input: 'email',
                    inputPlaceholder: 'Ingresa tu correo electrónico',
                    showCancelButton: true,
                    confirmButtonText: 'Recuperar',
                    showLoaderOnConfirm: true,
                    inputValidator: (email) => {
                        if (!email) {
                            return 'Por favor ingresa tu correo electrónico'
                        } else if (!/\S+@\S+.\S+/.test(email)) {
                            return 'Por favor ingresa una dirección de correo electrónico válida'
                        }
                    }
                    }).then((result) => {
                        if (result.isConfirmed) {
                            const email = result.value
                            return email
                        }
                    }).then((email) => {
                        if(email){
                            //loading with sweetalert2
                            Swal.fire({
                                title: 'Enviando correo...',
                                html: 'Por favor espere',
                                allowOutsideClick: false,
                                didOpen: () => {
                                    Swal.showLoading()
                                },
                            });
                            let dataEnviar = {
                                email
                            }
                            fetch('/recuperar-contrasena',{
                                method: 'POST',
                                headers: {
                                    'Content-Type': 'application/json'
                                },
                                body: JSON.stringify(dataEnviar)
                            })
                            .then((data) =>{
                                return data.json()
                            })
                            .then((data) =>{
                                if(data.ok){
                                    Swal.fire({
                                        title: 'Correo enviado',
                                        text: 'Por favor revisa tu correo electrónico',
                                        icon: 'success',
                                        confirmButtonText: 'Aceptar'
                                    })
                                }else{
                                    Swal.fire({
                                        title: 'Error',
                                        text: 'El correo ingresado no existe. Por favor valide e intente de nuevo',
                                        icon: 'error',
                                        confirmButtonText: 'Aceptar'
                                    })
                                    .then((data) =>{
                                        modalContrasena()
                                    })
                                }
                            })
                        }
                })
            }


            $recuperarContrasena.addEventListener('click', () => {
                modalContrasena()
            }, true);


        </script>

    </body>

</html>